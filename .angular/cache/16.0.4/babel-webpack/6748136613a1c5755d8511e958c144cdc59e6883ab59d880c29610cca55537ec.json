{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListMembresComponent = class ListMembresComponent {\n  constructor(membreService, laboratoireService) {\n    this.membreService = membreService;\n    this.laboratoireService = laboratoireService;\n  }\n  ngOnInit() {\n    this.getMembres();\n    this.getLaboratoires();\n  }\n  getMembres() {\n    this.membreService.getAllMembres().subscribe(response => {\n      this.membres = response;\n    }, error => {\n      console.log('Error fetching membres:', error);\n    });\n  }\n  setMembreAsDirector(membreId) {\n    this.membreService.setMembreAsDirector(membreId, true).subscribe(response => {});\n  }\n  getLaboratoires() {\n    this.laboratoireService.getLaboratoires().subscribe(response => {\n      this.laboratoires = response;\n    }, error => {\n      console.log('Error fetching admins:', error);\n    });\n  }\n  OpenMembreDetailsModal(membre) {\n    this.SelectedMembre = membre;\n  }\n  createMembre(membre) {\n    this.membreService.createMembre(membre).subscribe(response => {\n      console.log('Projet created successfully.');\n      // Refresh projets list\n      this.getMembres();\n    }, error => console.log(error));\n  }\n  updateMembre(membreId, membre) {\n    this.membreService.updateMembre(membreId, membre).subscribe(response => {\n      console.log('Etablissement updated successfully.');\n      // Refresh projets list\n      this.getMembres();\n    }, error => console.log(error));\n  }\n  deleteMembre(id) {\n    if (confirm('Are you sure you want to delete this membre?')) {\n      this.membreService.deleteMembre(id).subscribe(() => {\n        this.getMembres();\n      }, error => {\n        console.log('Error deleting membre:', error);\n      });\n    }\n  }\n};\nListMembresComponent = __decorate([Component({\n  selector: 'app-list-membres',\n  templateUrl: './list-membres.component.html',\n  styleUrls: ['../../../../vendors/styles/style.css', '../../../../srctemplate/plugins/datatables/css/dataTables.bootstrap4.min.css', '../../../../vendors/styles/core.css', '../../../../vendors/styles/icon-font.min.css']\n})], ListMembresComponent);\nexport { ListMembresComponent };","map":{"version":3,"names":["Component","ListMembresComponent","constructor","membreService","laboratoireService","ngOnInit","getMembres","getLaboratoires","getAllMembres","subscribe","response","membres","error","console","log","setMembreAsDirector","membreId","laboratoires","OpenMembreDetailsModal","membre","SelectedMembre","createMembre","updateMembre","deleteMembre","id","confirm","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\ch\\Documents\\GitHub\\GestionLabo\\src\\app\\components\\admins\\membres\\list-membres\\list-membres.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { ILaboratoire } from 'src/app/models/ILaboratoire';\nimport { IMembre } from 'src/app/models/IMembre';\nimport { LaboratoireService } from 'src/app/services/laboratoire/laboratoire.service';\nimport { MembreService } from 'src/app/services/membre/membre.service';\n\n@Component({\n  selector: 'app-list-membres',\n  templateUrl: './list-membres.component.html',\n  styleUrls: ['../../../../vendors/styles/style.css',\n     '../../../../srctemplate/plugins/datatables/css/dataTables.bootstrap4.min.css',\n     '../../../../vendors/styles/core.css',\n     '../../../../vendors/styles/icon-font.min.css'],\n  \n})\nexport class ListMembresComponent {\n  membres!: IMembre[];\n  laboratoires!: ILaboratoire[];\n  SelectedMembre!: IMembre;\n\n    constructor(private membreService: MembreService,\n      private laboratoireService: LaboratoireService) { }\n\n    ngOnInit() {\n      this.getMembres();\n      this.getLaboratoires();\n    }\n\n    getMembres() {\n      this.membreService.getAllMembres().subscribe(\n        response => {\n          this.membres = response;\n        },\n        error => {\n          console.log('Error fetching membres:', error);\n        }\n      );\n    }\n\n    setMembreAsDirector(membreId: number) {\n      this.membreService.setMembreAsDirector(membreId, true).subscribe(\n        response => {\n  \n        }\n      )\n    }\n\n    getLaboratoires() {\n      this.laboratoireService.getLaboratoires().subscribe(\n        response => {\n          this.laboratoires = response;\n        },\n        error => {\n          console.log('Error fetching admins:', error);\n        }\n      );\n    }\n\n    OpenMembreDetailsModal(membre: IMembre){\n      this.SelectedMembre = membre;\n    }\n\n    createMembre(membre: IMembre) {\n      this.membreService.createMembre(membre).subscribe(\n        response => {\n          console.log('Projet created successfully.');\n          // Refresh projets list\n          this.getMembres();\n        },\n        error => console.log(error)\n      );\n    }\n  \n    updateMembre(membreId: number, membre: IMembre) {\n      this.membreService.updateMembre(membreId, membre).subscribe(\n        response => {\n          console.log('Etablissement updated successfully.');\n          // Refresh projets list\n          this.getMembres();\n        },\n        error => console.log(error)\n      );\n    }\n\n    deleteMembre(id: number) {\n      if (confirm('Are you sure you want to delete this membre?')) {\n        this.membreService.deleteMembre(id).subscribe(\n          () => {\n            this.getMembres();\n          },\n          error => {\n            console.log('Error deleting membre:', error);\n          }\n        );\n      }\n    }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AAezC,IAAaC,oBAAoB,GAAjC,MAAaA,oBAAoB;EAK7BC,YAAoBC,aAA4B,EACtCC,kBAAsC;IAD5B,KAAAD,aAAa,GAAbA,aAAa;IACvB,KAAAC,kBAAkB,GAAlBA,kBAAkB;EAAwB;EAEpDC,QAAQA,CAAA;IACN,IAAI,CAACC,UAAU,EAAE;IACjB,IAAI,CAACC,eAAe,EAAE;EACxB;EAEAD,UAAUA,CAAA;IACR,IAAI,CAACH,aAAa,CAACK,aAAa,EAAE,CAACC,SAAS,CAC1CC,QAAQ,IAAG;MACT,IAAI,CAACC,OAAO,GAAGD,QAAQ;IACzB,CAAC,EACDE,KAAK,IAAG;MACNC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEF,KAAK,CAAC;IAC/C,CAAC,CACF;EACH;EAEAG,mBAAmBA,CAACC,QAAgB;IAClC,IAAI,CAACb,aAAa,CAACY,mBAAmB,CAACC,QAAQ,EAAE,IAAI,CAAC,CAACP,SAAS,CAC9DC,QAAQ,IAAG,CAEX,CAAC,CACF;EACH;EAEAH,eAAeA,CAAA;IACb,IAAI,CAACH,kBAAkB,CAACG,eAAe,EAAE,CAACE,SAAS,CACjDC,QAAQ,IAAG;MACT,IAAI,CAACO,YAAY,GAAGP,QAAQ;IAC9B,CAAC,EACDE,KAAK,IAAG;MACNC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,KAAK,CAAC;IAC9C,CAAC,CACF;EACH;EAEAM,sBAAsBA,CAACC,MAAe;IACpC,IAAI,CAACC,cAAc,GAAGD,MAAM;EAC9B;EAEAE,YAAYA,CAACF,MAAe;IAC1B,IAAI,CAAChB,aAAa,CAACkB,YAAY,CAACF,MAAM,CAAC,CAACV,SAAS,CAC/CC,QAAQ,IAAG;MACTG,OAAO,CAACC,GAAG,CAAC,8BAA8B,CAAC;MAC3C;MACA,IAAI,CAACR,UAAU,EAAE;IACnB,CAAC,EACDM,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC5B;EACH;EAEAU,YAAYA,CAACN,QAAgB,EAAEG,MAAe;IAC5C,IAAI,CAAChB,aAAa,CAACmB,YAAY,CAACN,QAAQ,EAAEG,MAAM,CAAC,CAACV,SAAS,CACzDC,QAAQ,IAAG;MACTG,OAAO,CAACC,GAAG,CAAC,qCAAqC,CAAC;MAClD;MACA,IAAI,CAACR,UAAU,EAAE;IACnB,CAAC,EACDM,KAAK,IAAIC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAC5B;EACH;EAEAW,YAAYA,CAACC,EAAU;IACrB,IAAIC,OAAO,CAAC,8CAA8C,CAAC,EAAE;MAC3D,IAAI,CAACtB,aAAa,CAACoB,YAAY,CAACC,EAAE,CAAC,CAACf,SAAS,CAC3C,MAAK;QACH,IAAI,CAACH,UAAU,EAAE;MACnB,CAAC,EACDM,KAAK,IAAG;QACNC,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEF,KAAK,CAAC;MAC9C,CAAC,CACF;;EAEL;CACH;AAjFYX,oBAAoB,GAAAyB,UAAA,EAThC1B,SAAS,CAAC;EACT2B,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,sCAAsC,EAC/C,8EAA8E,EAC9E,qCAAqC,EACrC,8CAA8C;CAElD,CAAC,C,EACW5B,oBAAoB,CAiFhC;SAjFYA,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
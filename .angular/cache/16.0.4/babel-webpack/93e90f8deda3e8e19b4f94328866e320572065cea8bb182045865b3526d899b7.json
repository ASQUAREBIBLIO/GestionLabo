{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet LoginComponent = class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n  }\n  login() {\n    this.authService.login(this.email, this.password).subscribe(response => {\n      this.authService.handleLoginResponse(response);\n      if (this.authService.isAdmin()) {\n        this.router.navigate(['/admin/dashboard']);\n      } else if (this.authService.isMember()) {\n        this.router.navigate(['/membre/dashboard']);\n      }\n    }, error => {\n      console.log(error);\n      // Handle login error\n    });\n  }\n};\n\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"names":["Component","LoginComponent","constructor","authService","router","login","email","password","subscribe","response","handleLoginResponse","isAdmin","navigate","isMember","error","console","log","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Asus ROG\\Documents\\GitHub\\GestionLabo\\src\\app\\components\\login\\login.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { AuthService } from '../../services/Auth/auth.service';\r\nimport { Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n\r\n  email!: string;\r\n  password!: string;\r\n  \r\n\r\n  constructor(private authService: AuthService, private router: Router) {}\r\n\r\n  login() {\r\n    this.authService.login(this.email, this.password).subscribe(\r\n      (response: any) => {\r\n        this.authService.handleLoginResponse(response);\r\n        if (this.authService.isAdmin()) {\r\n          this.router.navigate(['/admin/dashboard']);\r\n        } else if (this.authService.isMember()) {\r\n          this.router.navigate(['/membre/dashboard']);\r\n        }\r\n      },\r\n      (error) => {\r\n        console.log(error);\r\n        // Handle login error\r\n      }\r\n    );\r\n  }\r\n  // username!: string;\r\n  // password!: string;\r\n  // role!: string;\r\n\r\n  // constructor(private http: HttpClient, private authService: AuthService , private router: Router ) {}\r\n  \r\n\r\n  // login() {\r\n  //   const credentials = {\r\n  //     username: this.username,\r\n  //     password: this.password,\r\n  //     role: this.role\r\n  //   };\r\n\r\n  //   this.authService.login(credentials).subscribe(\r\n  //     response => {\r\n  //       // Gérer la réponse de connexion réussie\r\n  //       console.log('Connexion réussie');\r\n  //       // Rediriger vers le tableau de bord approprié en fonction du rôle\r\n  //       this.redirectToDashboard(this.role);\r\n  //     },\r\n  //     error => {\r\n  //       // Gérer l'erreur de connexion\r\n  //       console.error('Erreur de connexion', error);\r\n  //     }\r\n  //   );\r\n  // }\r\n\r\n  // redirectToDashboard(role: string) {\r\n  //   // Rediriger vers le tableau de bord approprié en fonction du rôle\r\n  //   let dashboardUrl = '';\r\n  \r\n  //   switch (role) {\r\n  //     case 'admin':\r\n  //       dashboardUrl = '/admin/dashboard';\r\n  //       break;\r\n  //     case 'directeur':\r\n  //       dashboardUrl = '/directeur/dashboard';\r\n  //       break;\r\n  //     case 'membre':\r\n  //       dashboardUrl = '/membre/dashboard';\r\n  //       break;\r\n  //     case 'responsable-marche':\r\n  //       dashboardUrl = '/responsable-marche/dashboard';\r\n  //       break;\r\n  //     case 'responsable-finance':\r\n  //       dashboardUrl = '/responsable-finance/dashboard';\r\n  //       break;\r\n  //     default:\r\n  //       // Redirection par défaut en cas de rôle non reconnu\r\n  //       dashboardUrl = '/login';\r\n  //       break;\r\n  //   }\r\n  \r\n  //   // Redirection vers le tableau de bord correspondant\r\n  //   this.router.navigate([dashboardUrl]);\r\n  // }\r\n}\r\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AASzC,IAAaC,cAAc,GAA3B,MAAaA,cAAc;EAMzBC,YAAoBC,WAAwB,EAAUC,MAAc;IAAhD,KAAAD,WAAW,GAAXA,WAAW;IAAuB,KAAAC,MAAM,GAANA,MAAM;EAAW;EAEvEC,KAAKA,CAAA;IACH,IAAI,CAACF,WAAW,CAACE,KAAK,CAAC,IAAI,CAACC,KAAK,EAAE,IAAI,CAACC,QAAQ,CAAC,CAACC,SAAS,CACxDC,QAAa,IAAI;MAChB,IAAI,CAACN,WAAW,CAACO,mBAAmB,CAACD,QAAQ,CAAC;MAC9C,IAAI,IAAI,CAACN,WAAW,CAACQ,OAAO,EAAE,EAAE;QAC9B,IAAI,CAACP,MAAM,CAACQ,QAAQ,CAAC,CAAC,kBAAkB,CAAC,CAAC;OAC3C,MAAM,IAAI,IAAI,CAACT,WAAW,CAACU,QAAQ,EAAE,EAAE;QACtC,IAAI,CAACT,MAAM,CAACQ,QAAQ,CAAC,CAAC,mBAAmB,CAAC,CAAC;;IAE/C,CAAC,EACAE,KAAK,IAAI;MACRC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MAClB;IACF,CAAC,CACF;EACH;CA0DD;;AAjFYb,cAAc,GAAAgB,UAAA,EAL1BjB,SAAS,CAAC;EACTkB,QAAQ,EAAE,WAAW;EACrBC,WAAW,EAAE,wBAAwB;EACrCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,C,EACWnB,cAAc,CAiF1B;SAjFYA,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}